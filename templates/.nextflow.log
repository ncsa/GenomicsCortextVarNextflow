Jun-29 09:49:48.005 [main] DEBUG nextflow.cli.Launcher - $> /usr/local/apps/bioapps/nextflow/nextflow-0.30.1.4844/nextflow ../nextflowTest1to6.nf
Jun-29 09:49:48.082 [main] INFO  nextflow.cli.CmdRun - N E X T F L O W  ~  version 0.30.1
Jun-29 09:49:48.091 [main] INFO  nextflow.cli.CmdRun - Launching `../nextflowTest1to6.nf` [goofy_shaw] - revision: 90ec63568e
Jun-29 09:49:48.100 [main] DEBUG nextflow.config.ConfigBuilder - Found config base: /projects/bioinformatics/DaveStuff/nextFlowUltimateFolder/testingStep1to6/nextflow.config
Jun-29 09:49:48.102 [main] DEBUG nextflow.config.ConfigBuilder - Parsing config file: /projects/bioinformatics/DaveStuff/nextFlowUltimateFolder/testingStep1to6/nextflow.config
Jun-29 09:49:48.120 [main] DEBUG nextflow.config.ConfigBuilder - Applying config profile: `standard`
Jun-29 09:49:48.367 [main] DEBUG nextflow.Session - Session uuid: be681ebb-8352-4bc5-b32f-c8b98485022f
Jun-29 09:49:48.367 [main] DEBUG nextflow.Session - Run name: goofy_shaw
Jun-29 09:49:48.368 [main] DEBUG nextflow.Session - Executor pool size: 24
Jun-29 09:49:48.378 [main] DEBUG nextflow.cli.CmdRun - 
  Version: 0.30.1 build 4844
  Modified: 11-06-2018 08:29 UTC (03:29 CDT)
  System: Linux 2.6.32-696.23.1.el6.x86_64
  Runtime: Groovy 2.4.15 on Java HotSpot(TM) 64-Bit Server VM 1.8.0_131-b11
  Encoding: UTF-8 (ANSI_X3.4-1968)
  Process: 29930@iforge.ncsa.illinois.edu [141.142.166.1]
  CPUs: 24 - Mem: 126.1 GB (84.7 GB) - Swap: 16 GB (16 GB)
Jun-29 09:49:48.396 [main] DEBUG nextflow.Session - Work-dir: /projects/bioinformatics/DaveStuff/nextFlowUltimateFolder/testingStep1to6/templates/work [gpfs]
Jun-29 09:49:48.397 [main] DEBUG nextflow.Session - Script base path does not exist or is not a directory: /projects/bioinformatics/DaveStuff/nextFlowUltimateFolder/testingStep1to6/bin
Jun-29 09:49:48.472 [main] DEBUG nextflow.Session - Session start invoked
Jun-29 09:49:48.474 [main] DEBUG nextflow.processor.TaskDispatcher - Dispatcher > start
Jun-29 09:49:48.475 [main] DEBUG nextflow.script.ScriptRunner - > Script parsing
Jun-29 09:49:48.596 [main] DEBUG nextflow.script.ScriptRunner - > Launching execution
Jun-29 09:49:48.606 [main] DEBUG nextflow.Channel - files for syntax: glob; folder: /projects/bioinformatics/DaveStuff/nextFlowUltimateFolder/smallerSamples/shortSamplesMagMavFqReads/; pattern: *; options: null
Jun-29 09:49:48.707 [main] DEBUG nextflow.processor.ProcessFactory - << taskConfig executor: local
Jun-29 09:49:48.707 [main] DEBUG nextflow.processor.ProcessFactory - >> processorType: 'local'
Jun-29 09:49:48.712 [main] DEBUG nextflow.executor.Executor - Initializing executor: local
Jun-29 09:49:48.713 [main] INFO  nextflow.executor.Executor - [warm up] executor > local
Jun-29 09:49:48.717 [main] DEBUG n.processor.LocalPollingMonitor - Creating local task monitor for executor 'local' > cpus=24; memory=126.1 GB; capacity=24; pollInterval=100ms; dumpInterval=5m
Jun-29 09:49:48.719 [main] DEBUG nextflow.processor.TaskDispatcher - Starting monitor: LocalPollingMonitor
Jun-29 09:49:48.720 [main] DEBUG n.processor.TaskPollingMonitor - >>> barrier register (monitor: local)
Jun-29 09:49:48.722 [main] DEBUG nextflow.executor.Executor - Invoke register for executor: local
Jun-29 09:49:48.745 [main] DEBUG nextflow.Session - >>> barrier register (process: prepareFolderAndFilesForCortexNEXTFLOW)
Jun-29 09:49:48.747 [main] DEBUG nextflow.processor.TaskProcessor - Creating operator > prepareFolderAndFilesForCortexNEXTFLOW -- maxForks: 24
Jun-29 09:49:48.764 [main] DEBUG nextflow.processor.ProcessFactory - << taskConfig executor: local
Jun-29 09:49:48.764 [main] DEBUG nextflow.processor.ProcessFactory - >> processorType: 'local'
Jun-29 09:49:48.764 [main] DEBUG nextflow.executor.Executor - Initializing executor: local
Jun-29 09:49:48.765 [main] DEBUG nextflow.Session - >>> barrier register (process: prepareStep6)
Jun-29 09:49:48.765 [main] DEBUG nextflow.processor.TaskProcessor - Creating operator > prepareStep6 -- maxForks: 24
Jun-29 09:49:48.770 [main] DEBUG nextflow.script.ScriptRunner - > Await termination 
Jun-29 09:49:48.770 [main] DEBUG nextflow.Session - Session await
Jun-29 09:49:48.889 [Task submitter] INFO  nextflow.Session - [e2/807ab9] Submitted process > prepareFolderAndFilesForCortexNEXTFLOW
Jun-29 09:49:48.903 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[id: 1; name: prepareFolderAndFilesForCortexNEXTFLOW; status: COMPLETED; exit: -; error: -; workDir: /projects/bioinformatics/DaveStuff/nextFlowUltimateFolder/testingStep1to6/templates/work/e2/807ab91bec9e28daca051ffc0ccb5e]
Jun-29 09:49:48.915 [Actor Thread 2] DEBUG nextflow.Session - <<< barrier arrive (process: prepareFolderAndFilesForCortexNEXTFLOW)
Jun-29 09:49:48.955 [Task submitter] DEBUG nextflow.executor.LocalTaskHandler - Launch cmd line: /bin/bash -ue .command.run
Jun-29 09:49:48.958 [Task submitter] INFO  nextflow.Session - [27/cbd849] Submitted process > prepareStep6
Jun-29 09:49:50.123 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[id: 2; name: prepareStep6; status: COMPLETED; exit: 1; error: -; workDir: /projects/bioinformatics/DaveStuff/nextFlowUltimateFolder/testingStep1to6/templates/work/27/cbd849785b3f43c3d410d3956dc2e4]
Jun-29 09:49:50.145 [Task monitor] ERROR nextflow.processor.TaskProcessor - Error executing process > 'prepareStep6'

Caused by:
  Process `prepareStep6` terminated with an error exit status (1)

Command executed [/projects/bioinformatics/DaveStuff/nextFlowUltimateFolder/testingStep1to6/templates/prepareStep6.nf]:

  #!/usr/bin/env nextflow
  
  step6FileList = file("/projects/bioinformatics/DaveStuff/nextFlowUltimateFolder/testingStep1to6/results" + "/samplesForStep5/colorlist_step5FileToSubmitToCortex").readLines()
  
  step6FileListReversed = []
  
  for (int i = 0; i < step6FileList.size(); i++) {
  	step6FileListReversed[step6FileList.size() - 1 - i] = step6FileList[i] - resultsDir + "+" + i - "/samplesForStep5/pathToCleaned"
  
  }
  
  
  step6FileListFiltered = []
  
  for (int i = 0; i < 2; i++) {
  	step6FileListFiltered[i] = step6FileListReversed[i]
  
  }

Command exit status:
  1

Command output:
  N E X T F L O W  ~  version 0.30.1
  Launching `.command.sh` [trusting_edison] - revision: ad2e0bc01a
  ERROR ~ No such variable: resultsDir
  
   -- Check script '.command.sh' at line: 8 or see '.nextflow.log' file for more details

Command wrapper:
  N E X T F L O W  ~  version 0.30.1
  Launching `.command.sh` [trusting_edison] - revision: ad2e0bc01a
  ERROR ~ No such variable: resultsDir
  
   -- Check script '.command.sh' at line: 8 or see '.nextflow.log' file for more details

Work dir:
  /projects/bioinformatics/DaveStuff/nextFlowUltimateFolder/testingStep1to6/templates/work/27/cbd849785b3f43c3d410d3956dc2e4

Tip: you can replicate the issue by changing to the process work dir and entering the command `bash .command.run`
Jun-29 09:49:50.147 [Actor Thread 5] DEBUG nextflow.Session - <<< barrier arrive (process: prepareStep6)
Jun-29 09:49:50.147 [main] DEBUG nextflow.Session - Session await > all process finished
Jun-29 09:49:50.148 [Task monitor] DEBUG nextflow.Session - Session aborted -- Cause: Process `prepareStep6` terminated with an error exit status (1)
Jun-29 09:49:50.160 [main] DEBUG nextflow.Session - Session await > all barriers passed
Jun-29 09:49:50.160 [Task monitor] DEBUG n.processor.TaskPollingMonitor - <<< barrier arrives (monitor: local)
Jun-29 09:49:50.169 [main] DEBUG nextflow.trace.StatsObserver - Workflow completed > WorkflowStats[succeedCount=1; failedCount=1; ignoredCount=0; cachedCount=0; succeedDuration=9ms; failedDuration=1.1s; cachedDuration=0ms]
Jun-29 09:49:50.176 [main] DEBUG nextflow.CacheDB - Closing CacheDB done
Jun-29 09:49:50.183 [main] DEBUG nextflow.script.ScriptRunner - > Execution complete -- Goodbye
